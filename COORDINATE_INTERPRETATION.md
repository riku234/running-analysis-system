# 標準モデル座標解釈の現状

## 元データの座標構造

### データ形式
- **ファイル**: `s-motion_girl_Velocity2.sd`
- **フレーム数**: 101フレーム
- **関節点数**: 24点
- **座標数**: 各点につき3座標（X, Y, Z）
- **1フレームあたり**: 72個の値（24点 × 3座標）

### 座標範囲（全101フレーム）
- **X軸**: min=0.012, max=0.608, range=0.596
- **Y軸**: min=0.542, max=3.565, range=3.023
- **Z軸**: min=-0.007, max=1.598, range=1.605

### フレーム0とフレーム50の変化量
- **右肩**: dX=-0.013, dY=+1.144, dZ=-0.005
- **右足首**: dX=+0.015, dY=+0.509, dZ=+0.240
- **頭頂**: dX=-0.013, dY=+1.084, dZ=-0.003

## 現在のコードの解釈

### 座標系のマッピング
```python
# 横から見た視点として解釈:
# - 元データのX軸（前後方向）→ CanvasのX軸（左から右）
# - 元データのY軸（上下方向）→ CanvasのY軸（上から下、反転）
# - 元データのZ軸（左右方向）→ 深度として扱う（2D表示では使用しない）
```

### 処理の流れ
1. **X軸の処理**:
   - 正規化（0.0-1.0の範囲に変換）
   - スケーリング（範囲が狭い場合は2.0倍に拡大）
   - 時間経過でシフト（フレーム番号に応じて0.0-0.5の範囲で右に移動）

2. **Y軸の処理**:
   - 正規化（0.0-1.0の範囲に変換）
   - 反転（Canvas座標系に合わせる：Yが大きいほど下）

3. **Z軸の処理**:
   - 正規化（0.0-1.0の範囲に変換）
   - 深度として保持（2D表示では使用しない）

## 問題点

### 観察された問題
1. **X軸の変化が小さい**: フレーム間でX軸はほとんど変化していない（-0.013程度）
2. **Y軸の変化が大きい**: フレーム間でY軸が大きく変化している（+1.144程度）
3. **Z軸も変化**: フレーム間でZ軸も変化している（+0.240程度）

### 現在の解釈の問題
- **X軸を前後方向と解釈**しているが、実際にはほとんど変化していない
- **Y軸を上下方向と解釈**しているが、時間経過も含まれている可能性がある
- **Z軸を左右方向と解釈**しているが、実際の動き方向かもしれない

## 推測される正しい座標系

データの変化パターンから推測：

1. **Y軸が時間経過を表している可能性**:
   - Y軸が大きく変化（1.144）している
   - これは時間経過（ランニング方向の動き）を表している可能性がある

2. **Z軸が左右方向を表している可能性**:
   - Z軸も変化している（0.240）
   - 左右の肩のZ座標が異なる（右肩: 1.335, 左肩: 1.329）

3. **X軸が前後方向（奥行き）を表している可能性**:
   - X軸はほとんど変化していない
   - これは前後方向（奥行き）を表している可能性がある

## 確認が必要な点

1. **座標系の定義**: 元データの座標系がどのように定義されているか
2. **視点**: データがどの視点（横から、上から、前から）で記録されているか
3. **時間軸**: どの軸が時間経過（ランニング方向の動き）を表しているか
